@model OrderVM
<main>
    <section id="page-title">
        <div class="page-title-area">
            <div class="container">
                <div class="page-title-content">
                    <h1>Checkout</h1>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><i class="fa-solid fa-angle-right"></i> Checkout</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <div class="checkout-area ptb-100">
        <div class="container">
            <div class="user-actions">
                <span>
                    Returning customer?
                    <a asp-controller="account" asp-action="login">Click here to login</a>
                </span>
            </div>
            <form method="post">
                <div class="row">

                    <div class="col-lg-8 col-md-8">
                        <div class="billing-details">
                            <h3><span>Billing details</span></h3>
                            <div class="row">
                                <div class="col-lg-6 col-md-6">
                                    <div class="form-group">
                                        <label>User name <span class="required">*</span></label>
                                        <input asp-for="Username" class="form-control" />
                                        <span asp-validation-for="Username" class="text text-danger"></span>

                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6">
                                    <div class="form-group">
                                        <label>Last name <span class="required">*</span></label>
                                        <input type="text" class="form-control" />
                                    </div>
                                </div>
                                <div class="col-lg-12 col-md-12">
                                    <div class="form-group">
                                        <label>Company name (optional)</label>
                                        <input asp-for="CompanyName" class="form-control" />
                                        <span asp-validation-for="CompanyName" class="text text-danger"></span>

                                    </div>
                                </div>
                                <div class="col-lg-12 col-md-12">
                                    <div class="form-group">
                                        <input asp-for="Country" id="gizli" style="width: 0px; height:0px; border:none;">
                                        <span asp-validation-for="Country" class="text text-danger"></span>

                                        <label>
                                            Country / Region
                                            <span class="required">*</span>
                                        </label>
                                        <div class="country-select  inside d-flex" id="main-container">
                                            <div id="flag-container">
                                                <img src="" alt="">
                                            </div>
                                            <div id="info-container">
                                                <select id="countries">
                                                </select>

                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-12 col-md-12">
                                    <div class="form-group">
                                        <label>Street address <span class="required">*</span></label>
                                        <input asp-for="Address"
                                               class="form-control"
                                               placeholder="House number and street name" />
                                        <span asp-validation-for="Address" class="text text-danger"></span>

                                    </div>
                                </div>
                                <div class="col-lg-12 col-md-12">
                                    <div class="form-group">
                                        <input asp-for="Apartment"
                                               class="form-control"
                                               placeholder="Apartment, suite, unit, etc. (optional)" />
                                        <span asp-validation-for="Apartment" class="text text-danger"></span>

                                    </div>
                                </div>
                                <div class="col-lg-12 col-md-12">
                                    <div class="form-group">
                                        <label>Town / City <span class="required">*</span></label>
                                        <input asp-for="City" class="form-control" />
                                        <span asp-validation-for="City" class="text text-danger"></span>

                                    </div>
                                </div>
                                <div class="col-lg-12 col-md-12">
                                    <div class="form-group">
                                        <label>Region (optional)</label>
                                        <input asp-for="Region" class="form-control" />
                                        <span asp-validation-for="Region" class="text text-danger"></span>

                                    </div>
                                </div>
                                <div class="col-lg-12 col-md-12">
                                    <div class="form-group">
                                        <label>Postcode <span class="required">*</span></label>
                                        <input asp-for="PostCode" class="form-control" />
                                        <span asp-validation-for="PostCode" class="text text-danger"></span>

                                    </div>
                                </div>
                                <div class="col-lg-12 col-md-12">
                                    <div class="form-group">
                                        <label>Phone <span class="required">*</span></label>
                                        <input asp-for="Phone" class="form-control" />
                                        <span asp-validation-for="Phone" class="text text-danger"></span>

                                    </div>
                                </div>
                                <div class="col-lg-12 col-md-12">
                                    <div class="form-group">
                                        <label>Email address <span class="required">*</span></label>
                                        <input asp-for="Email" class="form-control" />
                                        <span asp-validation-for="Email" class="text text-danger"></span>

                                    </div>
                                </div>
                                <div class="col-lg-12 col-md-12">
                                    <div class="form-check">
                                        <input type="checkbox"
                                               class="form-check-input"
                                               id="checkme" />
                                        <label class="form-check-label" for="checkme">Save this information for next time</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>



                    <div class="col-lg-12 col-md-12">
                        <div class="order-details">
                            <h3>Your order</h3>
                            <div class="order-table table-responsive">
                                <table class="table table-bordered">
                                    <tbody>
                                        @foreach (var item in Model.BasketItems)
                                        {
                                            <tr>
                                                <td class="product-name">
                                                    <a asp-controller="shop" asp-action="detail" asp-route-id="@item.Id">@item.Product.Name</a>
                                                </td>
                                                <td class="product-total">
                                                    <span class="subtotal-amount" id="total-pric">@{
                                                            @(item.Product.Price * @item.Count)
                                                        }</span>
                                                </td>
                                            </tr>
                                        }
                                        <tr>
                                            <td class="order-subtotal">
                                                <span>Cart Subtotal</span>
                                            </td>
                                            <td class="order-subtotal-price">
                                                <span class="order-subtotal-amount" id="ce"></span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="order-shipping"><span>Shipping</span></td>
                                            <td class="shipping-price">
                                                <span id="shippin"></span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="total-price"><span>Order Total</span></td>
                                            <td class="product-subtotal">
                                                <span class="subtotal-amount" id="fina"></span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="payment-box">
                                 <div class="payment-method">
                                <p>
                                <input asp-for="BankTransfer"
                                id="direct-bank-transfer"
                                name="radio-group"
                                checked="" />
                                <label for="direct-bank-transfer">Direct bank transfer</label>
                                Make your payment directly into our bank account. Please
                                use your Order ID as the payment reference. Your order
                                will not be shipped until the funds have cleared in our
                                account.
                                </p>
                                <p>
                                <input asp-for="CheckPayments"
                                id="check-payments"
                                name="radio-group" />
                                <label for="check-payments">Check payments</label>
                                Please send a check to Store Name, Store Street, Store
                                Town, Store State / County, Store Postcode.
                                </p>
                                <p>
                                <input asp-for="Paypal" id="paypal" name="radio-group" />
                                <label for="paypal">PayPal</label>
                                <img src="~/images/paypal.png" alt="paypal" />
                                Your personal data will be used to process your order,
                                support your experience throughout this website, and for
                                other purposes described in our
                                <a href="privacy-policy.html">privacy policy</a>.
                                </p>
                                <p>
                                <input asp-for="CashOnDelivery"
                                id="cash-on-delivery"
                                name="radio-group" />
                                <label for="cash-on-delivery">Cash on delivery</label>
                                Pay with cash upon delivery.
                                </p>
                                </div>
                                 <button type="submit" class="default-btn">
                                    <span>Place Order</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</main>
@section Scripts{
    <script>

        var sec = document.getElementById("countries");
        sec.addEventListener("change", (event) => {
            var key = sec.options[sec.selectedIndex].text;
            console.log(key);
            document.querySelector("#gizli").innerText = key;
        });
    </script>
}